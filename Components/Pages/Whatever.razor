@page "/data"

<h1 style="text-align: center;">Table Tests</h1>

<br />
<br />

<h3 style="text-align: center;">Table 1</h3>

<!-- Table 1 -->

<br />
<br />
<MudSimpleTable Style="overflow-x: auto;">
    <thead>
        <tr>
            @foreach (var h in headings)
            {
                <th>@h</th>
            }
        </tr>
    </thead>
    <tbody>
        @foreach (var row in rows)
        {
            <tr>
                @foreach (var x in row.Split('|'))
                {
                    <td>@x</td>
                }
            </tr>
        }
    </tbody>
</MudSimpleTable>


<br />
<br />

<h3 style="text-align: center;">Table 2</h3>

<br />
<br />

<!-- Table 2 -->

<MudSimpleTable Hover="true" Dense="true" FixedHeader="@fixedheader" Style="@(fixedheader?"height:300px;":"")">
    <thead>
        <tr>
            @foreach (var h in headings2)
            {
                <th>@h</th>
            }
        </tr>
    </thead>
    <tbody>
        @foreach (var row in rows2)
        {
            <tr>
                @foreach (var x in row.Split('|'))
                {
                    <td>@x</td>
                }
            </tr>
        }
    </tbody>
</MudSimpleTable>
<MudSwitch @bind-Value="fixedheader" Color="Color.Primary">Fixed Header</MudSwitch>

<br />
<br />
<!-- Table 3 --> 

<h3 style="text-align: center;">Table 3</h3>

<br />
<br />

<MudSimpleTable Dense="@dense" Hover="@hover" Bordered="@bordered" Striped="@striped" Style="overflow-x: auto;">
    <thead>
        <tr>
            @foreach (var h in headings3)
            {
                <th>@h</th>
            }
        </tr>
    </thead>
    <tbody>
        @foreach (var row in rows3)
        {
            <tr>
                @foreach (var x in row.Split('|'))
                {
                    <td>@x</td>
                }
            </tr>
        }
    </tbody>
</MudSimpleTable>
<MudToolBar>
    <MudSwitch @bind-Value="hover" Color="Color.Primary">Hover</MudSwitch>
    <MudSwitch @bind-Value="dense" Color="Color.Secondary">Dense</MudSwitch>
    <MudSwitch @bind-Value="striped" Color="Color.Tertiary">Striped</MudSwitch>
    <MudSwitch @bind-Value="bordered" Color="Color.Warning">Bordered</MudSwitch>
</MudToolBar>

<br />
<br />

<div class="d-flex flex-column align-center">
    <MudRating @bind-SelectedValue="selectedVal" HoveredValueChanged="HandleHoveredValueChanged" />
    <MudText Typo="Typo.h4" Class="deep-purple-text mt-2">@LabelText</MudText>
</div>

<!-- Table 1 atsign Code -->
@code {
    string[] headings = { "Customer Number", "Full Name", "Email", "Wealth", "VIP" };

    string[] rows = {
        // Using '|' as a delimiter so that spaces can be used in "Full Name"
        @"1 | Krishna Test | kpartner0@usatoday.com | £12000 | No",
        @"2 | Webb Test | wstitle1@ning.com | £200 | No",
        @"3 | Nathanil Test | nneal2@cyberchimps.com | £1110.22 | No",
        @"4 | Adara Lockwood | alockwood3@patch.com | £100,000.00 | Yes",
        @"5 | Cecilius Chaplin | cchaplin4@shinystat.com | £1000000.00 | Yes",
        @"6 | Cicely Emerine | cemerine9@soup.io | £6604.00 | No",
    };

    // Table 2 atsign

    bool fixedheader = true;
    string[] headings2 = { "ID", "Name", "Email", "Gender", "IP Address" };
    string[] rows2 = {
        @"1 | Krishnav lolol lolol | kpartner0@usatoday.com | Male | 28.25.250.202",
        @"2 | Webb | wstitle1@ning.com | Male | 237.168.134.114",
        @"3 | Nathanil | nneal2@cyberchimps.com | Male | 92.6.0.175",
        @"4 | Adara | alockwood3@patch.com | Female | 182.174.217.152",
        @"5 | Cecilius | cchaplin4@shinystat.com | Male | 195.124.144.18",
        @"6 | Cicely | cemerine9@soup.io | Female | 138.94.191.43",
        @"7 | Caleb | cwebber0@usatoday.com | Male | 28.25.250.202",
        @"8 | Grayson | gcarlyle@bt.com | Male | 173.174.94.114",
        @"9 | Lori | lo@independentweek.com | Female | 134.16.20.191",
        @"10 | Natasha | nkerensky@ilclan.com | Female | 217.217.18.15",
        @"11 | Andrew | aredburn@shinystat.com | Male | 20.114.244.58",
        @"12 | Katherine | ksteiner@fedsun.io | Female | 122.64.153.22",
    };

    // Table 3 atsign

    private bool dense = false;
    private bool hover = true;
    private bool striped = false;
    private bool bordered = false;

    string[] headings3 = { "ID", "Name", "Email", "Gender", "IP Address" };
    string[] rows3 = {
        @"1 | Krishna | kpartner0@usatoday.com | Male | 28.25.250.202",
        @"2 | Webb | wstitle1@ning.com | Male | 237.168.134.114",
        @"3 | Nathanil | nneal2@cyberchimps.com | Male | 92.6.0.175",
        @"4 | Adara | alockwood3@patch.com | Female | 182.174.217.152",
        @"5 | Cecilius | cchaplin4@shinystat.com | Male | 195.124.144.18",
        @"6 | Cicely | cemerine9@soup.io | Female | 138.94.191.43",
    };

    // Rating code

    private int selectedVal = 0;
    private int? activeVal;

    private void HandleHoveredValueChanged(int? val) => activeVal = val;

    private string LabelText => (activeVal ?? selectedVal) switch
    {
        1 => "Very bad",
        2 => "Bad",
        3 => "Sufficient",
        4 => "Good",
        5 => "Awesome!",
        _ => "Rate our data!!!"
    };

}
